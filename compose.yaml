version: '3.8'
services:
    database:
        image: 'mysql:8.4.0'
        container_name: database
        environment:
            MYSQL_ROOT_PASSWORD: password
            MYSQL_DATABASE: main
        ports:
            - '3306:3306'
        volumes:
            - ./docker/data:/var/lib/mysql

    phpmyadmin:
        image: 'phpmyadmin/phpmyadmin:5.2.1'
        container_name: phpmyadmin
        environment:
            PMA_HOST: database
            PMA_PORT: 3306
            MYSQL_ROOT_PASSWORD: password
        ports:
            - '8080:80'
        depends_on:
            - database

volumes:
    data:
